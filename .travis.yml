langage: python
python:
- '3.8'
addons:
  firefox: latest
before_script:
- wget https://github.com/mozilla/geckodriver/releases/download/v0.27.0/geckodriver-v0.27.0-linux64.tar.gz
- mkdir geckodriver
- tar -xzf geckodriver-v0.27.0-linux64.tar.gz -C geckodriver
- export PATH=$PATH:$PWD/geckodriver
- sudo apt-get install xvfb
- Xvfb :10 -ac &
- pip install -r requirements.txt
branches:
  only:
  - develop
env:
  global:
  - DJANGO_SETTINGS_MODULE="settings.travis"
  - DISPLAY=:10
  - secure: ya2oV9JhWpdM9lDuUjOnpJVfjfrDzngG36/28H5b9858qcfAfLktm9wxbQWXNpTMdYqbyuXZA/WxLUtYIbiih0Vtr18dq+4Qf9RSziXCMIfg2CqwVmqWm15ytHgTlJMSUZv1liN5R1chCXGERWN/D31CsgqJqDtS4h9d2wgYidt0n/J1HMp0dTQHuIvT73Hlo1MPUh/G9L2ehrBQST7k/VNQrGyIDz29DYf7rCDj7bVRw1QhlkXAljS692RY5FhGXc4bTze66ER0ktL6OJy4DdFdCbty3/dSh2BfhypdzlA+zWs+ZWEWryMYlcrdIVDV2OOzxUH9GNyuFwaziANC786XIhJ+pKdnUr7wvF0tB7YRQG71joEXPDO1J8kGjgKUCSR/D63/VwvnCb21HqfqO3BdoRZPZDE7kBuIRjUcjg9TmJBw6kynHXUtHCCVVk1+J5TmMVmHNw/8ViACeVZ7tQinUMAJSrVL3VIGpYuPZfJCV/2vLvqW+zv3iPs0GZkI11MmiJqiTYSRU/G/zvyGOxxCA3UKHBz/nX+v+aKJliklv/5Q/KJ7QhYkdT2tYOR+tKmsTIP/RYuql7+uHNZPfScsBRMKW9VbuO7h4Cv1bgTq4t2F4CjSGu1xt/fDL8keIu/ii/GxVTFTsAWz7uvBCq3/7Bkg708cfMdVI9Lj5KY=
  - secure: A1HN7guoQGmEdqGx2SsilHkIqWECIWcQ0gJH2cW6QLCZarpEfyFCrF9JO3j2iylgdx9JDoYfDX/Uy1oBN+HhXhQrXnpb4WJWEJm7fexw0dRDyOfmLjnEBK573dsCVhlXpcyiwFD6e4wC6AwjHPCEW/SPhPcPnt5gVSRXu3+Wf5Xax9fXmaK+9K/WPdU5g5rUiq7Y6noYPkl2YWRzRllBCmaSfk/HIjznNURxGXZJYdGw9anPiKEa+NdWvQ/YdRYds1OaRXcAUg9y+3wyjOf8lqlH/6WZP6cR/lfRO975h0U1UzBTpUDW7oqPO+EtxPDYJb6A6hhTH0DRddELpwuJG4H/+HKlUMD+nCTdLdjxCQEzaXYTsbFXjmfkKSIXQhNCIW40XP5cLn42HyXGgF89ReqsdZWrI7mN28j9kdX35jCaF+xDs77dL27IkdNOt4ZMNW6i4vyQLiuGIGvBynulwJhsO6kXy9y30F7qHX0uhpyMi381az+XOmyFhYDCBMq7B5wUpMf6XsVtHcurawmmzxacFsxI1V9NZePfsdTi1seBCz0McP9feu9/EP2QsLLAlejoN0D1ICO1yoiY2cxQ7U6S/bLotmc1mPMI2cYyc7lmSElo3obkuax8bef4tUgZzyH7ozqwgqW5LXqH5S50Aa9X1jUGn2eUaAnKQ2dy7Yg=
  - secure: BM8uMMWGLhOzq5Ud1jfhJybh84+WDAhlsb28j+MRUx6QgOJ+TaOqO5ErHh8Ui9lGO/IXVAhSLG/pRuDbaZBis9fM21dA/A7lxutSJGkCiIXVSsuQFLBX6lYZWW1o8mjOpmBcUfVjbZhakbYqBycTPTO0C9jAQiOwwx4UKqAZOWkwLMyBDpd6qg7z35tI9APc9ipJSnDDBLjaXug/d3oG3s5Kov6LgBqIpfzdvhmAsIo2NCT/fAmbJscjcUpyhVFiER0wX/NZ/VnnlmAEbnCGyZ9kuYEo4c5QOmkTBdY+s0wufH87ikHmMTPHJffH0HBcu+pzD0mX4UhLoWIrwlFzpVaxSmq1QkPegnJuWk9XcZ9PhtMXPeUF3EJGhd9LzPIT03E/YGZfiR/PhLALcYe1oNZmg8o+CHP4V9dQreQui4/Q1xmHzGMrs8LWEv+ycpFjN++ohmCXoT1o+NZ3Pwm2vca8uTFf8lUp5jWxFF4umkGlKE1j6JrNaA0aCpjtYwExaoXUMmvquQ58QF5kLWTc7T19B4E85Ed5vvphG5QSO6VOESega5lh9gWlPqsx7qQ34PONDYPEEdKPP5kif1p0ByyNZInpTMHbHd1IprB/4rSPWbPefkpOz5G2ncdRP8Hof/RFXLKLTEx148Ini0ZVc5FD73tFIuomUTcNxGphjR4=
  - secure: p2U07kS8u7ovcQrbyMRkVANpvr9XuiXypI1bQoEwWjtWXLMIHBOZAKesRtfsF5RxyAgYurYxYAUOQwsxUKzWV2cBKpZe733pYa0SWOXpANmzjNA2eRwiR6mx52brecZ9yTWPHFQdLoTQpQJm6s5JooTudRcm9EWlJyR1Lr1uKJvbsCIKZtiSikryN0A9qiPlqSzJCQ3jK9ixf12o2z5FYGmtpCyHdQVn/cn3Pizn36h2Bh13IWSlySltC9DH3w+hSyu55Ns8ONeFuxCvfuEzNCzE2knUx3Abwkqd7yEX8cBprRr8sG8tvz3guA1lm7Ms6ooNIg0wwqv2HONZuvkdhSi7xGXz4ulV0zBM2DBTUCFa1BCS5nBsPcji5TPGgI02XGk5dukNG5/l9bFrI35K4Tep9jq30yxc1vhHeUa9oBrg/F8q4tKjdm7rnrb+YhyK10p9I+G27iaOfJ6HxqmBHiXmx2mQB96L4U1JLH5io+2g/F2YF+FkZx4oQSjl/n3CcxeDCU1mGTPe5FZM1e29oq7kGedtRS4ON1lNuZbp+T8wM5HiOyhttnKwk/o8Lbgycgk5EDPdv7Z4UAadQhG9fFcs4uHMAemcU7fWs05IZ0FzGE9qjVY5/Ne2m8JIQKVPe9zRFIgouQkYVXst7xHcLYwrrVYLoS2Mv7/xVKVObcU=
services:
- postgresql
script:
- "./manage.py test tests"
